"use strict";(self.webpackChunkreclutamiento_frontend=self.webpackChunkreclutamiento_frontend||[]).push([[665],{3665:(pt,v,l)=>{l.r(v),l.d(v,{GenerateCasesModule:()=>ct});var _=l(6814),u=l(57),r=l(6223),P=l(5486),n=l(9291),L=l(5671),f=l(5219),g=l(9862);let M=(()=>{var e;class s{constructor(i){this.http=i,this.BASE_URL="http://localhost:3000"}upload(i){const a=new FormData;return a.append("file",i,i.name),this.http.post(this.BASE_URL,a)}}return(e=s).\u0275fac=function(i){return new(i||e)(n.LFG(g.eN))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),s})();var D=l(6091);let k=(()=>{var e;class s{constructor(i){this.http=i,this.BASE_URL="http://localhost:3000"}getAllNRC(){return this.http.get(`${this.BASE_URL}/nrc`)}getByCampus(i){return this.http.get(`${this.BASE_URL}/nrc/${i}`)}}return(e=s).\u0275fac=function(i){return new(i||e)(n.LFG(g.eN))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),s})();var m=l(707),y=l(2160),C=l(6218),x=l(3714);const B=["inputFile"];function U(e,s){if(1&e&&(n.TgZ(0,"p"),n._uU(1),n.ALo(2,"slice"),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Oqu(t.fileName.length>6?n.Dn7(2,1,t.fileName,0,15)+"...":t.fileName)}}const O=function(){return{width:"95%"}},V=function(){return{width:"90%","margin-left":"8%"}},z=function(){return{width:"96%"}},Z=function(){return{resize:"none",width:"95%",height:"90%"}},R=[{path:"",component:(()=>{var e;class s{constructor(i,a,o,c,d,h,E){this._fb=i,this._casesService=a,this._router=o,this._messageService=c,this._file=d,this._jwtService=h,this._nrcService=E,this.isDisabled=!1,this.fileName="",this.caseForm=this.formBuilder()}ngOnInit(){this.campusDropDown=[{id:1,name:"Antonio Varas"},{id:2,name:"Bellavista"},{id:3,name:"Casona las Condes"},{id:4,name:"Campus Creativo"},{id:5,name:"Concepci\xf3n"},{id:6,name:"Los Leones"},{id:7,name:"Rep\xfablica"},{id:8,name:"Vi\xf1a del Mar"}]}goToPage(i){this._router.navigate([`${i}`])}get nrc(){return`${this._jwtService.decodeToken((0,P.m)()).nrc}`}get f(){return this.caseForm.controls}get title(){return this.caseForm.get("title")}processFile(i){const a=i.target.files[0];(new FileReader).readAsDataURL(a),this.f.file.setValue(a),this.fileName=a.name,this._messageService.add({severity:"info",summary:"Archivo subido",detail:"Se ha subido tu archivo con \xe9xito"})}getNrcs(){this._nrcService.getAllNRC().subscribe({next:i=>{this.nrcDropDown=i}})}removePicture(i){}getNRCbyCampus(i){this.caseForm.get("nrc")?.enable(),this.selectedCampus=i,this._nrcService.getByCampus(i.value).subscribe({next:a=>{this.nrcDropDown=a}})}formBuilder(){return this._fb.group({title:["",r.kI.required],nrc:[{value:null,disabled:!0},r.kI.required],campus:["",r.kI.required],description:["",r.kI.required],file:[null,r.kI.required]})}createCase(){null==this.caseForm.value.file&&this._messageService.add({severity:"error",summary:"Falta archivo",detail:"Debe subir un archivo!"});const i=new FormData;i.append("file",this.f.file.value,`${this.f.file.value.name}`),i.append("form",JSON.stringify(this.caseForm.value)),this._casesService.create(i).subscribe({next:a=>{this._messageService.add({severity:"success",summary:"Caso creado!",detail:"Se ha creado tu caso con \xe9xito"}),this.caseForm=this.formBuilder(),this.fileName="",this.inputFile.nativeElement.value=null},error:a=>{this._messageService.add({severity:"error",summary:"Faltan datos",detail:"Recuerde rellenar todos los campos!"})}})}}return(e=s).\u0275fac=function(i){return new(i||e)(n.Y36(r.qu),n.Y36(L.w),n.Y36(u.F0),n.Y36(f.ez),n.Y36(M),n.Y36(D.N0),n.Y36(k))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-generate-cases"]],viewQuery:function(i,a){if(1&i&&n.Gf(B,5),2&i){let o;n.iGM(o=n.CRH())&&(a.inputFile=o.first)}},decls:32,vars:16,consts:[[1,"flex","w-full","h-full","flex-column"],[1,"flex","w-full","h-full","flex-column","justify-content-center","align-items-center","surface-ground"],[1,"flex","justify-content-center","align-items-center","bg-white","w-9","h-full","shadow-2","flex-column"],[1,"flex","justify-content-center","w-full"],[1,"grid","w-full"],[1,"flex","justify-content-center","col-3"],["icon","pi pi-arrow-left","styleClass","p-button-rounded p-button-secondary p-button-text p-button-raised",3,"onClick"],[1,"flex","flex-column","w-6","h-6","shadow-1","border-round","align-items-center","justify-content-center"],[1,"flex","justify-content-center","w-full","border-round-top","align-items-center","h-3rem","text-white",2,"background-color","#223a86"],[1,"w-full","h-full",3,"formGroup","ngSubmit"],[1,"w-full","h-full","flex","flex-column","gap-2"],[1,"flex","flex-row","justify-content-between","mt-2"],[1,"w-full","flex","align-items-center","justify-content-center"],["placeholder","Asunto","formControlName","title","pInputText","",3,"ngStyle"],[1,"flex","w-full","justify-content-between","align-items-center"],[1,"flex","wp-3","align-items-center","justify-content-center"],[1,"w-full"],["placeholder","Campus","formControlName","campus","optionLabel","name","optionValue","id",3,"options","onChange"],[1,"flex","wp-7","justify-content-end"],["placeholder","Asignatura","filterBy","name","formControlName","nrc","optionLabel","name",1,"overflow-auto",3,"options","filter"],[1,"flex","justify-content-start","align-items-center","w-full","h-full","flex-column"],["rows","5","cols","30","pInputTextarea","","formControlName","description",3,"ngStyle"],[1,"w-full","h-3rem","flex","justify-content-between","align-items-center","px-4","pb-4","flex-row"],[1,"flex","flex-row","align-items-center","gap-2"],["icon","pi pi-plus","label","Subir archivo",3,"click"],["type","file",1,"form-control","hidden",3,"value","change"],["inputFile",""],[4,"ngIf"],["pButton","","pRipple","","label","Enviar",1,"p-button-success"]],template:function(i,a){if(1&i){const o=n.EpF();n.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"p-button",6),n.NdJ("onClick",function(){return a.goToPage("/student-cases")}),n.qZA()()()(),n.TgZ(7,"div",7)(8,"div",8)(9,"h3"),n._uU(10,"Generar Caso"),n.qZA()(),n.TgZ(11,"form",9),n.NdJ("ngSubmit",function(){return a.createCase()}),n.TgZ(12,"div",10)(13,"div",11)(14,"div",12),n._UZ(15,"input",13),n.qZA()(),n.TgZ(16,"div",14)(17,"div",15)(18,"span",16)(19,"p-dropdown",17),n.NdJ("onChange",function(d){return a.getNRCbyCampus(d)}),n.qZA()()(),n.TgZ(20,"div",18)(21,"span",16),n._UZ(22,"p-dropdown",19),n.qZA()()(),n.TgZ(23,"div",20),n._UZ(24,"textarea",21),n.qZA(),n.TgZ(25,"div",22)(26,"div",23)(27,"p-button",24),n.NdJ("click",function(){n.CHM(o);const d=n.MAs(29);return n.KtG(d.click())}),n.qZA(),n.TgZ(28,"input",25,26),n.NdJ("change",function(d){return a.processFile(d)}),n.qZA(),n.YNc(30,U,3,5,"p",27),n.qZA(),n._UZ(31,"button",28),n.qZA()()()()()()()}2&i&&(n.xp6(11),n.Q6J("formGroup",a.caseForm),n.xp6(4),n.Q6J("ngStyle",n.DdM(12,O)),n.xp6(4),n.Akn(n.DdM(13,V)),n.Q6J("options",a.campusDropDown),n.xp6(3),n.Akn(n.DdM(14,z)),n.Q6J("options",a.nrcDropDown)("filter",!0),n.xp6(2),n.Q6J("ngStyle",n.DdM(15,Z)),n.xp6(4),n.Q6J("value",a.file),n.xp6(2),n.Q6J("ngIf",""!=a.fileName))},dependencies:[_.O5,_.PC,m.Hq,m.zx,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,y.Lt,C.g,x.o,_.OU]}),s})()}];let A=(()=>{var e;class s{}return(e=s).\u0275fac=function(i){return new(i||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[u.Bz.forChild(R),u.Bz]}),s})();var p=l(1180),b=l(4713),I=l(2332);let j=(()=>{var e;class s extends b.s{constructor(...i){super(...i),(0,p.Z)(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+(0,I.Th)()+")"}}return e=s,(0,p.Z)(s,"\u0275fac",function(){let t;return function(a){return(t||(t=n.n5z(e)))(a||e)}}()),(0,p.Z)(s,"\u0275cmp",n.Xpm({type:e,selectors:[["PlusIcon"]],standalone:!0,features:[n.qOj,n.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,a){1&i&&(n.O4$(),n.TgZ(0,"svg",0)(1,"g"),n._UZ(2,"path",1),n.qZA(),n.TgZ(3,"defs")(4,"clipPath",2),n._UZ(5,"rect",3),n.qZA()()()),2&i&&(n.Tol(a.getClassNames()),n.uIk("aria-label",a.ariaLabel)("aria-hidden",a.ariaHidden)("role",a.role),n.xp6(1),n.uIk("clip-path",a.pathId),n.xp6(3),n.Q6J("id",a.pathId))},encapsulation:2})),s})();var T=l(7778);let N=(()=>{var e;class s extends b.s{constructor(...i){super(...i),(0,p.Z)(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+(0,I.Th)()+")"}}return e=s,(0,p.Z)(s,"\u0275fac",function(){let t;return function(a){return(t||(t=n.n5z(e)))(a||e)}}()),(0,p.Z)(s,"\u0275cmp",n.Xpm({type:e,selectors:[["UploadIcon"]],standalone:!0,features:[n.qOj,n.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.58942 9.82197C6.70165 9.93405 6.85328 9.99793 7.012 10C7.17071 9.99793 7.32234 9.93405 7.43458 9.82197C7.54681 9.7099 7.61079 9.55849 7.61286 9.4V2.04798L9.79204 4.22402C9.84752 4.28011 9.91365 4.32457 9.98657 4.35479C10.0595 4.38502 10.1377 4.40039 10.2167 4.40002C10.2956 4.40039 10.3738 4.38502 10.4467 4.35479C10.5197 4.32457 10.5858 4.28011 10.6413 4.22402C10.7538 4.11152 10.817 3.95902 10.817 3.80002C10.817 3.64102 10.7538 3.48852 10.6413 3.37602L7.45127 0.190618C7.44656 0.185584 7.44176 0.180622 7.43687 0.175736C7.32419 0.063214 7.17136 0 7.012 0C6.85264 0 6.69981 0.063214 6.58712 0.175736C6.58181 0.181045 6.5766 0.186443 6.5715 0.191927L3.38282 3.37602C3.27669 3.48976 3.2189 3.6402 3.22165 3.79564C3.2244 3.95108 3.28746 4.09939 3.39755 4.20932C3.50764 4.31925 3.65616 4.38222 3.81182 4.38496C3.96749 4.3877 4.11814 4.33001 4.23204 4.22402L6.41113 2.04807V9.4C6.41321 9.55849 6.47718 9.7099 6.58942 9.82197ZM11.9952 14H2.02883C1.751 13.9887 1.47813 13.9228 1.22584 13.8061C0.973545 13.6894 0.746779 13.5241 0.558517 13.3197C0.370254 13.1154 0.22419 12.876 0.128681 12.6152C0.0331723 12.3545 -0.00990605 12.0775 0.0019109 11.8V9.40005C0.0019109 9.24092 0.065216 9.08831 0.1779 8.97579C0.290584 8.86326 0.443416 8.80005 0.602775 8.80005C0.762134 8.80005 0.914966 8.86326 1.02765 8.97579C1.14033 9.08831 1.20364 9.24092 1.20364 9.40005V11.8C1.18295 12.0376 1.25463 12.274 1.40379 12.4602C1.55296 12.6463 1.76817 12.7681 2.00479 12.8H11.9952C12.2318 12.7681 12.447 12.6463 12.5962 12.4602C12.7453 12.274 12.817 12.0376 12.7963 11.8V9.40005C12.7963 9.24092 12.8596 9.08831 12.9723 8.97579C13.085 8.86326 13.2378 8.80005 13.3972 8.80005C13.5565 8.80005 13.7094 8.86326 13.8221 8.97579C13.9347 9.08831 13.998 9.24092 13.998 9.40005V11.8C14.022 12.3563 13.8251 12.8996 13.45 13.3116C13.0749 13.7236 12.552 13.971 11.9952 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,a){1&i&&(n.O4$(),n.TgZ(0,"svg",0)(1,"g"),n._UZ(2,"path",1),n.qZA(),n.TgZ(3,"defs")(4,"clipPath",2),n._UZ(5,"rect",3),n.qZA()()()),2&i&&(n.Tol(a.getClassNames()),n.uIk("aria-label",a.ariaLabel)("aria-hidden",a.ariaHidden)("role",a.role),n.xp6(1),n.uIk("clip-path",a.pathId),n.xp6(3),n.Q6J("id",a.pathId))},encapsulation:2})),s})();var H=l(2591),G=l(2736),Q=l(3823),J=l(8468),S=l(4480);let w=(()=>{var e;class s{}return e=s,(0,p.Z)(s,"\u0275fac",function(i){return new(i||e)}),(0,p.Z)(s,"\u0275mod",n.oAB({type:e})),(0,p.Z)(s,"\u0275inj",n.cJS({imports:[_.ez,S.T,H.n,Q.u,J.x,G.L,T.q]})),s})();var F=l(6651);let rt=(()=>{var e;class s{}return e=s,(0,p.Z)(s,"\u0275fac",function(i){return new(i||e)}),(0,p.Z)(s,"\u0275mod",n.oAB({type:e})),(0,p.Z)(s,"\u0275inj",n.cJS({imports:[_.ez,g.JF,f.m8,m.hJ,F.q,w,S.T,j,N,T.q,f.m8,m.hJ,F.q,w]})),s})(),ct=(()=>{var e;class s{}return(e=s).\u0275fac=function(i){return new(i||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[_.ez,A,m.hJ,r.u5,r.UX,y.kW,C.A,x.j,rt]}),s})()}}]);